var ImageCropping=function(){var t,n,e,a=function(){$("#target").Jcrop({onChange:o,onSelect:o,onRelease:c},function(){t=this}),$("#coords").on("change","input",function(){var n=$("#x1").val(),e=$("#x2").val(),i=$("#y1").val(),a=$("#y2").val();t.setSelect([n,i,e,a])})},o=function(t){$("#x1").val(t.x),$("#y1").val(t.y),$("#x2").val(t.x2),$("#y2").val(t.y2),$("#w").val(t.w),$("#h").val(t.h)},c=function(){$("#coords input").val("")},r=function(){function i(t){if(parseInt(t.w)>0){var i=r/t.w,a=s/t.h;c.css({width:Math.round(i*n)+"px",height:Math.round(a*e)+"px",marginLeft:"-"+Math.round(i*t.x)+"px",marginTop:"-"+Math.round(a*t.y)+"px"})}}var a=$("#preview-pane"),o=$("#preview-pane .preview-container"),c=$("#preview-pane .preview-container img"),r=o.width(),s=o.height();$("#target2").Jcrop({onChange:i,onSelect:i,aspectRatio:r/s},function(){var i=this.getBounds();n=i[0],e=i[1],t=this,a.appendTo(t.ui.holder)})},s=function(){function n(t){var n=$("<button />").addClass("btn btn-sm");return t&&n.append(t),n}function e(t,n){$("#interface").prepend($("<fieldset></fieldset>").attr("id",t).append($("<legend></legend>").append(n),'<div class="btn-toolbar"><div class="btn-group"></div></div>'))}function a(n,e){return function(i){$(i.target).closest(".btn-group").find(".active").removeClass("active"),$(i.target).addClass("active");var a={};return a[n]=e,t.setOptions(a),!1}}function o(n){return function(e){return $(e.target).addClass("active"),t.animateTo(n,function(){$(e.target).closest(".btn-group").find(".active").removeClass("active")}),!1}}$("#target3").Jcrop({bgFade:!0,bgOpacity:.2,setSelect:[60,70,540,330]},function(){t=this}),$("#fadetog").on("ifChecked",function(){t.setOptions({bgFade:!0})}),$("#fadetog").on("ifUnchecked",function(){t.setOptions({bgFade:!1})}),$("#shadetog").on("ifUnchecked",function(){$("#shadetxt").slideUp()}),$("#shadetog").on("ifChecked",function(){$("#shadetxt").slideDown()});var c={bgc_buttons:"Change bgColor",bgo_buttons:"Change bgOpacity",anim_buttons:"Animate Selection"},r={anim1:[217,122,382,284],anim2:[20,20,580,380],anim3:[24,24,176,376],anim4:[347,165,550,355],anim5:[136,55,472,183]},s={Low:.2,Mid:.5,High:.8,Full:1},u={R:"#900",B:"#4BB6F0",Y:"#F0B207",G:"#46B81C",W:"white",K:"black"};for(i in c)e(i,c[i]);var d=1;for(i in r)$("#anim_buttons .btn-group").append(n(d++).click(o(r[i]))," ");$("#anim_buttons .btn-group").append(n("Bye!").click(function(n){return $(n.target).addClass("active"),t.animateTo([300,200,300,200],function(){this.release(),$(n.target).closest(".btn-group").find(".active").removeClass("active")}),!1}));for(i in s)$("#bgo_buttons .btn-group").append(n(i).click(a("bgOpacity",s[i]))," ");for(i in u)$("#bgc_buttons .btn-group").append(n(i).css({background:u[i],color:"K"==i||"R"==i?"white":"black"}).click(a("bgColor",u[i]))," ");$("#bgo_buttons .btn:first,#bgc_buttons .btn:last").addClass("active"),$("#interface").show()};return{init:function(){a(),r(),s()}}}();
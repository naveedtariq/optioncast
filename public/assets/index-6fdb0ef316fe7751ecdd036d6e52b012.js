var Index=function(){var e=function(){function e(){return Math.floor(21*Math.random())+20}function t(e,t,a){$('<div id="tooltip">'+a+"</div>").css({position:"absolute",display:"none",top:t+5,left:e+15,border:"1px solid #333",padding:"4px",color:"#fff","border-radius":"3px","background-color":"#333",opacity:.8}).appendTo("body").fadeIn(200)}var a=[[1,e()],[2,e()],[3,2+e()],[4,3+e()],[5,5+e()],[6,10+e()],[7,15+e()],[8,20+e()],[9,25+e()],[10,30+e()],[11,35+e()],[12,25+e()],[13,15+e()],[14,20+e()],[15,45+e()],[16,50+e()],[17,65+e()],[18,70+e()],[19,85+e()],[20,80+e()],[21,75+e()],[22,80+e()],[23,75+e()],[24,70+e()],[25,65+e()],[26,75+e()],[27,80+e()],[28,85+e()],[29,90+e()],[30,95+e()]],n=[[1,e()-5],[2,e()-5],[3,e()-5],[4,6+e()],[5,5+e()],[6,20+e()],[7,25+e()],[8,36+e()],[9,26+e()],[10,38+e()],[11,39+e()],[12,50+e()],[13,51+e()],[14,12+e()],[15,13+e()],[16,14+e()],[17,15+e()],[18,15+e()],[19,16+e()],[20,17+e()],[21,18+e()],[22,19+e()],[23,20+e()],[24,21+e()],[25,14+e()],[26,24+e()],[27,25+e()],[28,26+e()],[29,27+e()],[30,31+e()]],l=($.plot($("#placeholder-h1"),[{data:a,label:"Unique Visits"},{data:n,label:"Page Views"}],{series:{lines:{show:!0,lineWidth:2,fill:!0,fillColor:{colors:[{opacity:.05},{opacity:.01}]}},points:{show:!1},shadowSize:2},grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderWidth:0},colors:["#d12610","#37b7f3","#52e136"],xaxis:{ticks:11,tickDecimals:0},yaxis:{ticks:11,tickDecimals:0}}),null);$("#placeholder-h1").bind("plothover",function(e,a,n){if($("#x").text(a.x.toFixed(2)),$("#y").text(a.y.toFixed(2)),n){if(l!=n.dataIndex){l=n.dataIndex,$("#tooltip").remove();var o=n.datapoint[0].toFixed(2),i=n.datapoint[1].toFixed(2);t(n.pageX,n.pageY,n.series.label+" of "+o+" = "+i)}}else $("#tooltip").remove(),l=null})},t=function(){function e(e,t){return"<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"}for(var t=[],a=Math.floor(6*Math.random())+3,n=0;a>n;n++)t[n]={label:"Series"+(n+1),data:Math.floor(100*Math.random())+1};$.plot("#placeholder-h2",t,{series:{pie:{show:!0,radius:1,tilt:.5,label:{show:!0,radius:1,formatter:e,background:{opacity:.8}},combine:{color:"#999",threshold:.1}}},legend:{show:!1}})},a=function(){function e(){for(a.length>0&&(a=a.slice(1));a.length<n;){var e=a.length>0?a[a.length-1]:50,t=e+10*Math.random()-5;0>t?t=0:t>100&&(t=100),a.push(t)}for(var l=[],o=0;o<a.length;++o)l.push([o,a[o]]);return l}function t(){o.setData([e()]),o.draw(),setTimeout(t,l)}var a=[],n=300,l=30;$("#updateInterval").val(l).change(function(){var e=$(this).val();e&&!isNaN(+e)&&(l=+e,1>l?l=1:l>2e3&&(l=2e3),$(this).val(""+l))});var o=$.plot("#placeholder-h3",[e()],{grid:{borderWidth:1,borderColor:"#eeeeee"},series:{shadowSize:0},yaxis:{min:0,max:100},xaxis:{show:!1}});t()},n=function(){$(".sparkline_line_good span").sparkline("html",{type:"line",fillColor:"#B1FFA9",lineColor:"#459D1C",width:"50",height:"24"}),$(".sparkline_line_bad span").sparkline("html",{type:"line",fillColor:"#FFC4C7",lineColor:"#BA1E20",width:"50",height:"24"}),$(".sparkline_line_neutral span").sparkline("html",{type:"line",fillColor:"#CCCCCC",lineColor:"#757575",width:"50",height:"24"}),$(".sparkline_bar_good span").sparkline("html",{type:"bar",barColor:"#459D1C",barWidth:"5",height:"24"}),$(".sparkline_bar_bad span").sparkline("html",{type:"bar",barColor:"#BA1E20",barWidth:"5",height:"24"}),$(".sparkline_bar_neutral span").sparkline("html",{type:"bar",barColor:"#757575",barWidth:"5",height:"24"})},l=function(){(isIE8||isIE9)&&(Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),a=this,n=function(){},l=function(){return a.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,l.prototype=new n,l})),$(".easy-pie-chart .bounce").easyPieChart({animate:1e3,size:70}),$(".easy-pie-chart .cpu").easyPieChart({animate:1e3,lineWidth:3,barColor:"#35aa47",size:70})},o=function(){var e=$("#event-management");$("#event-categories div.event-category").each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e),$(this).draggable({zIndex:999,revert:!0,revertDuration:50})});var t=new Date,a=t.getDate(),n=t.getMonth(),l=t.getFullYear(),o="",i=$("#calendar").fullCalendar({buttonText:{prev:'<i class="fa fa-chevron-left"></i>',next:'<i class="fa fa-chevron-right"></i>'},header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},events:[{title:"Meeting with Boss",start:new Date(l,n,1),className:"label-default"},{title:"Bootstrap Seminar",start:new Date(l,n,a-5),end:new Date(l,n,a-2),className:"label-teal"},{title:"Lunch with Nicole",start:new Date(l,n,a-3,12,0),className:"label-green",allDay:!1}],editable:!0,droppable:!0,drop:function(e,t){var a=$(this).data("eventObject"),n=$(this).attr("data-class"),l=$.extend({},a);l.start=e,l.allDay=t,n&&(l.className=[n]),$("#calendar").fullCalendar("renderEvent",l,!0),$("#drop-remove").is(":checked")&&$(this).remove()},selectable:!0,selectHelper:!0,select:function(t,a,n){e.modal({backdrop:"static"}),o=$("<form></form>"),o.append("<div class='row'></div>"),o.find(".row").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>New Event Name</label><input class='form-control' placeholder='Insert Event Name' type=text name='title'/></div></div>").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>Category</label><select class='form-control' name='category'></select></div></div>").find("select[name='category']").append("<option value='label-default'>Work</option>").append("<option value='label-green'>Home</option>").append("<option value='label-purple'>Holidays</option>").append("<option value='label-orange'>Party</option>").append("<option value='label-yellow'>Birthday</option>").append("<option value='label-teal'>Generic</option>").append("<option value='label-beige'>To Do</option>"),e.find(".remove-event").hide().end().find(".save-event").show().end().find(".modal-body").empty().prepend(o).end().find(".save-event").unbind("click").click(function(){o.submit()}),e.find("form").on("submit",function(){return title=o.find("input[name='title']").val(),$categoryClass=o.find("select[name='category'] option:checked").val(),null!==title&&i.fullCalendar("renderEvent",{title:title,start:t,end:a,allDay:n,className:$categoryClass},!0),e.modal("hide"),!1}),i.fullCalendar("unselect")},eventClick:function(t){var a=$("<form></form>");a.append("<label>Change event name</label>"),a.append("<div class='input-group'><input class='form-control' type=text value='"+t.title+"' /><span class='input-group-btn'><button type='submit' class='btn btn-success'><i class='fa fa-check'></i> Save</button></span></div>"),e.modal({backdrop:"static"}),e.find(".remove-event").show().end().find(".save-event").hide().end().find(".modal-body").empty().prepend(a).end().find(".remove-event").unbind("click").click(function(){i.fullCalendar("removeEvents",function(e){return e._id==t._id}),e.modal("hide")}),e.find("form").on("submit",function(){return t.title=a.find("input[type=text]").val(),i.fullCalendar("updateEvent",t),e.modal("hide"),!1})}})};return{init:function(){e(),t(),a(),n(),l(),o()}}}();
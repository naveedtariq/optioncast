var Calendar=function(){var e=function(){var e=$("#event-management");$("#event-categories div.event-category").each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e),$(this).draggable({zIndex:999,revert:!0,revertDuration:50})});var t=new Date,a=t.getDate(),n=t.getMonth(),l=t.getFullYear(),i="",o=$("#calendar").fullCalendar({buttonText:{prev:'<i class="fa fa-chevron-left"></i>',next:'<i class="fa fa-chevron-right"></i>'},header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},events:[{title:"Meeting with Boss",start:new Date(l,n,1),className:"label-default"},{title:"Bootstrap Seminar",start:new Date(l,n,a-5),end:new Date(l,n,a-2),className:"label-teal"},{title:"Lunch with Nicole",start:new Date(l,n,a-3,12,0),className:"label-green",allDay:!1}],editable:!0,droppable:!0,drop:function(e,t){var a=$(this).data("eventObject"),n=$(this).attr("data-class"),l=$.extend({},a);l.start=e,l.allDay=t,n&&(l.className=[n]),$("#calendar").fullCalendar("renderEvent",l,!0),$("#drop-remove").is(":checked")&&$(this).remove()},selectable:!0,selectHelper:!0,select:function(t,a,n){e.modal({backdrop:"static"}),i=$("<form></form>"),i.append("<div class='row'></div>"),i.find(".row").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>New Event Name</label><input class='form-control' placeholder='Insert Event Name' type=text name='title'/></div></div>").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>Category</label><select class='form-control' name='category'></select></div></div>").find("select[name='category']").append("<option value='label-default'>Work</option>").append("<option value='label-green'>Home</option>").append("<option value='label-purple'>Holidays</option>").append("<option value='label-orange'>Party</option>").append("<option value='label-yellow'>Birthday</option>").append("<option value='label-teal'>Generic</option>").append("<option value='label-beige'>To Do</option>"),e.find(".remove-event").hide().end().find(".save-event").show().end().find(".modal-body").empty().prepend(i).end().find(".save-event").unbind("click").click(function(){i.submit()}),e.find("form").on("submit",function(){return title=i.find("input[name='title']").val(),$categoryClass=i.find("select[name='category'] option:checked").val(),null!==title&&o.fullCalendar("renderEvent",{title:title,start:t,end:a,allDay:n,className:$categoryClass},!0),e.modal("hide"),!1}),o.fullCalendar("unselect")},eventClick:function(t){var a=$("<form></form>");a.append("<label>Change event name</label>"),a.append("<div class='input-group'><input class='form-control' type=text value='"+t.title+"' /><span class='input-group-btn'><button type='submit' class='btn btn-success'><i class='fa fa-check'></i> Save</button></span></div>"),e.modal({backdrop:"static"}),e.find(".remove-event").show().end().find(".save-event").hide().end().find(".modal-body").empty().prepend(a).end().find(".remove-event").unbind("click").click(function(){o.fullCalendar("removeEvents",function(e){return e._id==t._id}),e.modal("hide")}),e.find("form").on("submit",function(){return t.title=a.find("input[type=text]").val(),o.fullCalendar("updateEvent",t),e.modal("hide"),!1})}})};return{init:function(){e()}}}();
var Maps=function(){var a=function(){a=new GMaps({el:"#map1",lat:-12.043333,lng:-77.028333}),map2=new GMaps({div:"#map2",lat:-12.043333,lng:-77.028333}),map2.addMarker({lat:-12.043333,lng:-77.03,title:"Lima",details:{database_id:42,author:"HPNeo"},click:function(a){console.log&&console.log(a),alert("You clicked in this marker")}}),map2.addMarker({lat:-12.042,lng:-77.028333,title:"Marker with InfoWindow",height:"200px",infoWindow:{content:"<p>HTML Content</p>"}}),panorama=GMaps.createPanorama({el:"#map3",lat:42.3455,lng:-71.0983}),a=new GMaps({div:"#map4",lat:-12.043333,lng:-77.028333}),$("#geocoding_form").submit(function(e){e.preventDefault(),GMaps.geocode({address:$("#address").val().trim(),callback:function(e,t){if("OK"==t){var n=e[0].geometry.location;a.setCenter(n.lat(),n.lng()),a.addMarker({lat:n.lat(),lng:n.lng()})}}})});var a;$(document).on("submit",".edit_marker",function(e){e.preventDefault();var t=$(this).data("marker-index");$lat=$("#marker_"+t+"_lat").val(),$lng=$("#marker_"+t+"_lng").val();var n=$("#edit_marker_template").text(),r=n.replace(/{{index}}/g,t).replace(/{{lat}}/g,$lat).replace(/{{lng}}/g,$lng);a.markers[t].setPosition(new google.maps.LatLng($lat,$lng)),a.markers[t].infoWindow.setContent(r),$marker=$("#markers-with-coordinates").find("li").eq(0).find("a"),$marker.data("marker-lat",$lat),$marker.data("marker-lng",$lng)}),$(document).on("click",".pan-to-marker",function(e){e.preventDefault();var t,n,r=$(this).data("marker-index"),l=$(this).data("marker-lat"),i=$(this).data("marker-lng");if(void 0!=r){var o=a.markers[r].getPosition();t=o.lat(),n=o.lng()}else t=l,n=i;a.setCenter(t,n)}),a=new GMaps({div:"#map5",lat:-12.043333,lng:-77.028333}),GMaps.on("marker_added",a,function(e){$("#map-ui").append('<tr><td><a href="#" class="pan-to-marker" data-marker-index="'+a.markers.indexOf(e)+'">'+e.title+'</a></td><td><a href="#" class="pan-to-marker" data-marker-lat="'+e.getPosition().lat()+'" data-marker-lng="'+e.getPosition().lng()+'">'+e.title+"</a></td></tr>")}),GMaps.on("click",a.map,function(e){var t=a.markers.length,n=e.latLng.lat(),r=e.latLng.lng(),l=$("#edit_marker_template").text(),i=l.replace(/{{index}}/g,t).replace(/{{lat}}/g,n).replace(/{{lng}}/g,r);a.addMarker({lat:n,lng:r,title:"Marker #"+t,infoWindow:{content:i}})})};return{init:function(){a()}}}();